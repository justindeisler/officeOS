import{r as c,j as e}from"./vendor-react-DeR5d9Tv.js";import{u as j}from"./clientAuthStore-9vE1eIds.js";import{a as o,X as b,af as N,j as d,S as v,ag as y}from"./index-B9wpeZVf.js";import{D as k}from"./database-CKBCntCl.js";import{a as w,u as C,O as L,L as S}from"./vendor-router-9bGSKQ4q.js";import"./vendor-markdown-PIr_2kdo.js";import"./client-DV_YJGvU.js";import"./vendor-recharts-DrMJw15s.js";import"./vendor-radix-sPo3_CXI.js";import"./vendor-floating-ui-CESiY8Ey.js";function M(){const{client:t,checkAuth:n,logout:m}=j(),x=w(),f=C(),[a,r]=c.useState(!1);c.useEffect(()=>{n()},[n]);const u=()=>{m(),x("/client/login")};if(!t)return null;const i=s=>s.split(" ").map(p=>p[0]).join("").toUpperCase().slice(0,2),h=[{label:"Tasks",icon:v,href:"/client/dashboard"},{label:"Architecture",icon:k,href:"/client/architecture"}],g=s=>f.pathname===s,l=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 border-b",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-semibold text-sm",children:i(t.name)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:t.company||"Client Portal"}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t.name})]})]}),e.jsx("nav",{className:"flex-1 flex flex-col gap-1 p-3",children:h.map(s=>e.jsxs(S,{to:s.href,onClick:()=>r(!1),className:d("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",g(s.href)?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[e.jsx(s.icon,{className:"h-4 w-4"}),s.label]},s.href))}),e.jsx("div",{className:"p-3 border-t mt-auto",children:e.jsxs(o,{variant:"ghost",className:"w-full justify-start gap-3 text-muted-foreground hover:text-foreground",onClick:u,children:[e.jsx(y,{className:"h-4 w-4"}),"Logout"]})})]});return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"lg:hidden flex items-center justify-between p-4 border-b bg-card",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary font-semibold text-xs",children:i(t.name)}),e.jsx("span",{className:"font-medium text-sm",children:t.company||"Client Portal"})]}),e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>r(!a),children:a?e.jsx(b,{className:"h-5 w-5"}):e.jsx(N,{className:"h-5 w-5"})})]}),a&&e.jsx("div",{className:"lg:hidden fixed inset-0 z-40 bg-black/50",onClick:()=>r(!1)}),e.jsx("div",{className:d("lg:hidden fixed inset-y-0 left-0 z-50 w-64 bg-card border-r transform transition-transform duration-200",a?"translate-x-0":"-translate-x-full"),children:e.jsx(l,{})}),e.jsx("div",{className:"hidden lg:flex lg:flex-col lg:w-64 lg:fixed lg:inset-y-0 bg-card border-r",children:e.jsx(l,{})}),e.jsx("main",{className:"lg:pl-64",children:e.jsx("div",{className:"p-6 lg:p-8 bg-background min-h-screen",children:e.jsx(L,{})})})]})}export{M as ClientLayout};
