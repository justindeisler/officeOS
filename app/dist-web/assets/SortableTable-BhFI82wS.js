import{r as u,j as e}from"./vendor-react-nkeu7MKf.js";import{C as _,c as S,a as M,b as A,d as D}from"./card-CRJ10d8t.js";import{I as U}from"./info-RnabDB8-.js";import{T as q,L as G,R as X,A as Y,C as E,X as F,Y as I,g as V,h as W,i as J,j as Q,B as Z,a as z}from"./vendor-recharts-COauwCrp.js";import{c as ee,j,$ as T}from"./index-Cgh2aQl7.js";import{e as K}from"./select-kNMDNoVB.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=ee("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);function he({data:s,defaultField:t,defaultDirection:n="desc",comparators:r,pageSize:a=10}){const[c,d]=u.useState(t),[l,i]=u.useState(n),[x,N]=u.useState(!1),m=u.useCallback(p=>{c===p?i(g=>g==="asc"?"desc":"asc"):(d(p),i("desc"))},[c]),h=u.useMemo(()=>{const p=r[c];if(!p)return s;const g=l==="asc"?1:-1;return[...s].sort((o,b)=>g*p(o,b))},[s,c,l,r]),L=a>0&&!x?h.slice(0,a):h,v=a>0&&h.length>a;return{sortField:c,sortDirection:l,toggleSort:m,sorted:h,displayed:L,expanded:x,setExpanded:N,canExpand:v,totalCount:h.length}}function te(s){return s>=1e6?`${(s/1e6).toFixed(1)}M`:s>=1e3?`${(s/1e3).toFixed(1)}K`:s.toLocaleString()}function fe(s){return s===0?"Free":s<.01?`$${s.toFixed(4)}`:`$${s.toFixed(2)}`}function me(s,t){return t==="tokens"?te(s):t==="seconds"?s>=3600?`${(s/3600).toFixed(1)}h`:s>=60?`${(s/60).toFixed(1)}m`:`${s}s`:s.toLocaleString()}function je(){return e.jsx("div",{className:"flex items-center justify-center p-12",children:e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})}function pe({message:s}){return e.jsx("div",{className:"flex items-center justify-center p-12",children:e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-destructive text-lg",children:"⚠️"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s||"No data available"})]})})}function ge({children:s}){return e.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg border border-amber-500/20 bg-amber-500/5",children:[e.jsx(U,{className:"h-4 w-4 text-amber-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:s})]})}function ve({icon:s,title:t,description:n,actions:r}){return e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-semibold tracking-tight flex items-center gap-2",children:[e.jsx(s,{className:"h-7 w-7"}),t]}),e.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:n})]}),r&&e.jsx("div",{className:"flex items-center gap-2",children:r})]})}function re({height:s="h-[200px] sm:h-[300px]"}){return e.jsx("div",{className:`flex items-center justify-center ${s}`,children:e.jsx("p",{className:"text-muted-foreground text-sm",children:"No data for this period"})})}function Ne({title:s,icon:t,accent:n,value:r,subtitle:a,children:c}){return e.jsx(_,{className:"relative overflow-hidden",children:e.jsx(S,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:s}),r!==void 0&&e.jsx("p",{className:"text-2xl font-bold tracking-tight",children:r}),a&&e.jsx("div",{className:"pt-0.5 text-xs text-muted-foreground",children:a}),c]}),e.jsx("div",{className:`rounded-xl p-2.5 ${n}`,children:e.jsx(t,{className:"h-5 w-5"})})]})})})}const ne={light:"",dark:".dark"},B=u.createContext(null);function O(){const s=u.useContext(B);if(!s)throw new Error("useChart must be used within a <ChartContainer />");return s}const $=u.forwardRef(({id:s,className:t,children:n,config:r,...a},c)=>{const d=u.useId(),l=`chart-${s||d.replace(/:/g,"")}`;return e.jsx(B.Provider,{value:{config:r},children:e.jsxs("div",{"data-chart":l,ref:c,className:j("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[e.jsx(ae,{id:l,config:r}),e.jsx(X,{children:n})]})})});$.displayName="Chart";const ae=({id:s,config:t})=>{const n=Object.entries(t).filter(([,r])=>r.theme||r.color);return n.length?e.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(ne).map(([r,a])=>`
${a} [data-chart=${s}] {
${n.map(([c,d])=>{var i;const l=((i=d.theme)==null?void 0:i[r])||d.color;return l?`  --color-${c}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},H=q,k=u.forwardRef(({active:s,payload:t,className:n,indicator:r="dot",hideLabel:a=!1,hideIndicator:c=!1,label:d,labelFormatter:l,labelClassName:i,formatter:x,color:N,nameKey:m,labelKey:h},L)=>{const{config:v}=O(),p=u.useMemo(()=>{var C;if(a||!(t!=null&&t.length))return null;const[o]=t,b=`${h||(o==null?void 0:o.dataKey)||(o==null?void 0:o.name)||"value"}`,w=y(v,o,b),f=!h&&typeof d=="string"?((C=v[d])==null?void 0:C.label)||d:w==null?void 0:w.label;return l?e.jsx("div",{className:j("font-medium",i),children:l(f,t)}):f?e.jsx("div",{className:j("font-medium",i),children:f}):null},[d,l,t,a,i,v,h]);if(!s||!(t!=null&&t.length))return null;const g=t.length===1&&r!=="dot";return e.jsxs("div",{ref:L,className:j("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[g?null:p,e.jsx("div",{className:"grid gap-1.5",children:t.filter(o=>o.type!=="none").map((o,b)=>{const w=`${m||o.name||o.dataKey||"value"}`,f=y(v,o,w),C=N||o.payload.fill||o.color;return e.jsx("div",{className:j("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:x&&(o==null?void 0:o.value)!==void 0&&o.name?x(o.value,o.name,o,b,o.payload):e.jsxs(e.Fragment,{children:[f!=null&&f.icon?e.jsx(f.icon,{}):!c&&e.jsx("div",{className:j("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":g&&r==="dashed"}),style:{"--color-bg":C,"--color-border":C}}),e.jsxs("div",{className:j("flex flex-1 justify-between leading-none",g?"items-end":"items-center"),children:[e.jsxs("div",{className:"grid gap-1.5",children:[g?p:null,e.jsx("span",{className:"text-muted-foreground",children:(f==null?void 0:f.label)||o.name})]}),o.value&&e.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:o.value.toLocaleString()})]})]})},o.dataKey)})})]})});k.displayName="ChartTooltip";const P=G,R=u.forwardRef(({className:s,hideIcon:t=!1,payload:n,verticalAlign:r="bottom",nameKey:a},c)=>{const{config:d}=O();return n!=null&&n.length?e.jsx("div",{ref:c,className:j("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",s),children:n.filter(l=>l.type!=="none").map(l=>{const i=`${a||l.dataKey||"value"}`,x=y(d,l,i);return e.jsxs("div",{className:j("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[x!=null&&x.icon&&!t?e.jsx(x.icon,{}):e.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),x==null?void 0:x.label]},l.value)})}):null});R.displayName="ChartLegend";function y(s,t,n){if(typeof t!="object"||t===null)return;const r="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=n;return n in t&&typeof t[n]=="string"?a=t[n]:r&&n in r&&typeof r[n]=="string"&&(a=r[n]),a in s?s[a]:s[n]}function be({data:s,config:t,dataKeys:n,gradientPrefix:r="fill",yTickFormatter:a,tooltipFormatter:c,height:d="h-[200px] sm:h-[300px]",stackId:l="1"}){return s.length===0?e.jsx(re,{height:d}):e.jsx($,{config:t,className:`${d} w-full`,children:e.jsxs(Y,{data:s,margin:{top:10,right:10,left:0,bottom:0},children:[e.jsx("defs",{children:n.map(i=>e.jsxs("linearGradient",{id:`${r}-${i}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:`var(--color-${i})`,stopOpacity:.4}),e.jsx("stop",{offset:"95%",stopColor:`var(--color-${i})`,stopOpacity:.05})]},i))}),e.jsx(E,{vertical:!1}),e.jsx(F,{dataKey:"date",tickLine:!1,axisLine:!1,tickMargin:8}),e.jsx(I,{tickLine:!1,axisLine:!1,tickMargin:8,tickFormatter:a}),e.jsx(H,{cursor:!1,content:c?e.jsx(k,{indicator:"dot",formatter:(i,x)=>c(i,x)}):e.jsx(k,{indicator:"dot"})}),n.map(i=>e.jsx(V,{type:"monotone",dataKey:i,stroke:`var(--color-${i})`,fill:`url(#${r}-${i})`,strokeWidth:2,stackId:l},i)),e.jsx(P,{content:e.jsx(R,{})})]})})}function we({config:s,data:t,icon:n,title:r,description:a,legend:c,emptyMessage:d="No data"}){return e.jsxs(_,{className:"flex flex-col",children:[e.jsxs(M,{className:"pb-0",children:[e.jsxs(A,{className:"text-lg flex items-center gap-2",children:[e.jsx(n,{className:"h-5 w-5"}),r]}),e.jsx(D,{children:a})]}),e.jsxs(S,{className:"flex-1 pb-0",children:[t.length===0?e.jsx("div",{className:"flex items-center justify-center h-[180px]",children:e.jsx("p",{className:"text-muted-foreground text-sm",children:d})}):e.jsx($,{config:s,className:"mx-auto aspect-square max-h-[180px] sm:max-h-[220px]",children:e.jsxs(W,{data:t,innerRadius:30,outerRadius:110,startAngle:180,endAngle:0,children:[e.jsx(J,{tick:!1,tickLine:!1,axisLine:!1}),e.jsx(Q,{dataKey:"value",background:!0,cornerRadius:10})]})}),c]})]})}function Ce({icon:s,title:t,description:n,config:r,data:a,dataKeys:c,yTickFormatter:d,tooltipFormatter:l,height:i="h-[200px] sm:h-[250px]",stacked:x=!1,barRadius:N=[4,4,0,0]}){return e.jsxs(_,{children:[e.jsxs(M,{className:"pb-2",children:[e.jsxs(A,{className:"text-lg flex items-center gap-2",children:[e.jsx(s,{className:"h-5 w-5"}),t]}),e.jsx(D,{children:n})]}),e.jsx(S,{children:e.jsx($,{config:r,className:`${i} w-full`,children:e.jsxs(Z,{data:a,margin:{top:10,right:30,left:0,bottom:0},children:[e.jsx(E,{vertical:!1}),e.jsx(F,{dataKey:a.length>0&&"name"in a[0]?"name":"date",tickLine:!1,axisLine:!1,tickMargin:8}),e.jsx(I,{tickLine:!1,axisLine:!1,tickMargin:8,tickFormatter:d}),e.jsx(H,{cursor:!1,content:l?e.jsx(k,{indicator:"dot",formatter:(m,h)=>l(m,h)}):e.jsx(k,{indicator:"dot"})}),c.map(m=>e.jsx(z,{dataKey:m,fill:`var(--color-${m})`,radius:N,stackId:x?"stack":void 0},m)),e.jsx(P,{content:e.jsx(R,{})})]})})})]})}function oe({field:s,activeField:t,direction:n}){return t!==s?e.jsx(se,{className:"h-3 w-3 opacity-40"}):n==="asc"?e.jsx(K,{className:"h-3 w-3"}):e.jsx(T,{className:"h-3 w-3"})}function ke({field:s,label:t,activeField:n,direction:r,onToggle:a,align:c="left",className:d=""}){return e.jsx("th",{className:`py-3 px-2 font-medium text-muted-foreground cursor-pointer hover:text-foreground transition-colors ${c==="right"?"text-right":"text-left"} ${d}`,onClick:()=>a(s),children:e.jsxs("span",{className:`flex items-center gap-1 ${c==="right"?"justify-end":""}`,children:[t,e.jsx(oe,{field:s,activeField:n,direction:r})]})})}function $e({expanded:s,totalCount:t,label:n="items",onToggle:r}){return e.jsx("button",{onClick:r,className:"w-full mt-3 py-2 text-sm text-muted-foreground hover:text-foreground transition-colors flex items-center justify-center gap-1",children:s?e.jsxs(e.Fragment,{children:["Show Less ",e.jsx(K,{className:"h-4 w-4"})]}):e.jsxs(e.Fragment,{children:["Show All ",t," ",n," ",e.jsx(T,{className:"h-4 w-4"})]})})}export{je as D,$e as E,ge as M,Ne as O,we as R,be as S,pe as a,ve as b,Ce as c,ke as d,fe as e,te as f,me as g,he as u};
