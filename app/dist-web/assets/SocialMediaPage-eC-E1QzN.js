import{r as i,j as e}from"./vendor-react-wuMqdllU.js";import{i as S,B as F,a as h,L as I,I as W,l as P,k as y}from"./index-JZoliObr.js";import{T as Se,a as Me,b as te,c as ae}from"./tabs-Dlb0lg5z.js";import{C as _,c as z}from"./card-ByB4Hy19.js";import{D as Pe,a as De,b as Te,c as R,d as Ee}from"./dropdown-menu-Dcpzv9fx.js";import{aw as G,ax as q,ay as Ie,y as $,N as L,z as _e,az as ze,aA as Le,b as pe,v as ne,X as Fe,aB as H,aC as Oe,aD as Be,E as Re,ad as $e,r as Ae,aE as Ve,aF as ge,d as We,aG as He}from"./vendor-icons-CHGo4Fp8.js";import{f as w,p as O,s as A,q as le,b as Ge,c as qe,a as Je,r as re,h as V,t as Xe,u as Ke,v as Qe,d as Ue}from"./vendor-date-fns-D0ugVOfH.js";import{D as je,a as fe,b as ve,c as Ne,d as be,e as we}from"./dialog-BM5s3xjO.js";import{S as ie,a as ce,b as de,c as oe,d as E}from"./select-Btjdd6HG.js";import{T as Ye}from"./textarea-CvD7_vDa.js";import"./vendor-markdown-C3iCDuOK.js";import"./vendor-recharts-tRgwS7-V.js";import"./vendor-radix-BCh4MJnw.js";import"./vendor-floating-ui-BD6aHMKr.js";import"./vendor-router-Cm8Qzw9U.js";const me={suggested:{label:"Suggested",color:"bg-amber-500/10 text-amber-700 dark:text-amber-400 border-amber-200 dark:border-amber-800"},approved:{label:"Approved",color:"bg-green-500/10 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800"},scheduled:{label:"Scheduled",color:"bg-blue-500/10 text-blue-700 dark:text-blue-400 border-blue-200 dark:border-blue-800"},published:{label:"Published",color:"bg-purple-500/10 text-purple-700 dark:text-purple-400 border-purple-200 dark:border-purple-800"},rejected:{label:"Rejected",color:"bg-red-500/10 text-red-700 dark:text-red-400 border-red-200 dark:border-red-800"}},Ze={commits:"Git Commits",conversations:"Conversations",news:"Tech News",manual:"Manual",topics:"Topic Research"};function es({post:s,onApprove:f,onReject:n,onEdit:v,onSchedule:r,onPublish:m,onDelete:d}){var k,D;const[u,p]=i.useState(!1),N=me[s.status]||me.suggested,l=s.platform==="linkedin",a=l?G:q,x=s.content_text.length>200&&!u?s.content_text.slice(0,200)+"...":s.content_text,o=((k=s.metadata)==null?void 0:k.hashtags)||[],g=((D=s.metadata)==null?void 0:D.topics)||[];return e.jsx(_,{className:S("group transition-all duration-200 hover:shadow-md",s.status==="rejected"&&"opacity-60"),children:e.jsxs(z,{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:S("flex items-center justify-center w-8 h-8 rounded-lg",l?"bg-[#0077B5]/10 text-[#0077B5]":"bg-gradient-to-br from-purple-500/10 via-pink-500/10 to-orange-500/10 text-pink-600"),children:e.jsx(a,{className:"h-4 w-4"})}),e.jsx(F,{variant:"outline",className:S("text-xs font-medium",N.color),children:N.label}),s.source&&e.jsx(F,{variant:"secondary",className:"text-xs",children:Ze[s.source]||s.source})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:w(O(s.created_at),"MMM d, yyyy")}),e.jsxs(Pe,{children:[e.jsx(De,{asChild:!0,children:e.jsx(h,{variant:"ghost",size:"icon",className:"h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Ie,{className:"h-3.5 w-3.5"})})}),e.jsxs(Te,{align:"end",children:[e.jsxs(R,{onClick:()=>v(s),children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(R,{onClick:()=>r(s),children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Schedule"]}),e.jsx(Ee,{}),e.jsxs(R,{className:"text-destructive",onClick:()=>d(s.id),children:[e.jsx(_e,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})]}),s.visual_path?e.jsx("div",{className:"rounded-lg overflow-hidden bg-muted border",children:e.jsx("img",{src:`/api/social-media/visuals/${s.visual_path.split("/").pop()}`,alt:`${s.visual_type||"Visual"} for ${s.platform} post`,className:"w-full aspect-video object-cover",loading:"lazy",onError:b=>{const M=b.target;M.style.display="none";const T=M.parentElement;if(T){const c=document.createElement("div");c.className="aspect-video flex items-center justify-center";const j=document.createElement("span");j.className="text-sm text-muted-foreground",j.textContent="âš ï¸ Visual unavailable",c.appendChild(j),T.appendChild(c)}}})}):e.jsxs("div",{className:"rounded-lg overflow-hidden bg-muted/50 aspect-video flex items-center justify-center border border-dashed",children:[e.jsx(ze,{className:"h-6 w-6 text-muted-foreground/30"}),e.jsx("span",{className:"ml-2 text-xs text-muted-foreground/50",children:"No visual generated"})]}),e.jsxs("div",{className:S("text-sm whitespace-pre-wrap leading-relaxed cursor-pointer",s.status==="rejected"&&"line-through"),onClick:()=>p(!u),children:[x,s.content_text.length>200&&e.jsx("button",{className:"ml-1 text-xs text-primary hover:underline font-medium",onClick:b=>{b.stopPropagation(),p(!u)},children:u?"Show less":"Show more"})]}),o.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:o.map(b=>e.jsxs("span",{className:"inline-flex items-center text-xs text-primary/70 hover:text-primary",children:[e.jsx(Le,{className:"h-3 w-3"}),b.replace(/^#/,"")]},b))}),g.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:g.map(b=>e.jsx(F,{variant:"outline",className:"text-[10px] font-normal",children:b},b))}),s.scheduled_date&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[e.jsx(pe,{className:"h-3 w-3"}),"Scheduled for ",w(O(s.scheduled_date),"EEEE, MMM d 'at' h:mm a")]}),s.published_date&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-emerald-600 dark:text-emerald-400",children:[e.jsx(ne,{className:"h-3 w-3"}),"Published ",w(O(s.published_date),"MMM d, yyyy 'at' h:mm a")]}),s.status==="suggested"&&e.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[e.jsxs(h,{size:"sm",variant:"default",className:"h-8 text-xs bg-green-600 hover:bg-green-700",onClick:()=>f(s.id),children:[e.jsx(ne,{className:"h-3.5 w-3.5 mr-1"}),"Approve"]}),e.jsxs(h,{size:"sm",variant:"outline",className:"h-8 text-xs",onClick:()=>v(s),children:[e.jsx($,{className:"h-3.5 w-3.5 mr-1"}),"Edit"]}),e.jsxs(h,{size:"sm",variant:"ghost",className:"h-8 text-xs text-destructive hover:text-destructive",onClick:()=>n(s.id),children:[e.jsx(Fe,{className:"h-3.5 w-3.5 mr-1"}),"Reject"]})]}),s.status==="approved"&&e.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[e.jsxs(h,{size:"sm",variant:"default",className:"h-8 text-xs",onClick:()=>r(s),children:[e.jsx(L,{className:"h-3.5 w-3.5 mr-1"}),"Schedule"]}),e.jsxs(h,{size:"sm",variant:"outline",className:"h-8 text-xs",onClick:()=>m(s.id),children:[e.jsx(H,{className:"h-3.5 w-3.5 mr-1"}),"Mark Published"]})]}),s.status==="scheduled"&&e.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[e.jsxs(h,{size:"sm",variant:"default",className:"h-8 text-xs",onClick:()=>m(s.id),children:[e.jsx(H,{className:"h-3.5 w-3.5 mr-1"}),"Mark Published"]}),e.jsxs(h,{size:"sm",variant:"ghost",className:"h-8 text-xs",onClick:()=>v(s),children:[e.jsx($,{className:"h-3.5 w-3.5 mr-1"}),"Edit"]})]}),s.status==="rejected"&&e.jsx("div",{className:"flex items-center gap-2 pt-1",children:e.jsxs(h,{size:"sm",variant:"ghost",className:"h-8 text-xs",onClick:()=>f(s.id),children:[e.jsx(Oe,{className:"h-3.5 w-3.5 mr-1"}),"Reconsider"]})})]})})}function xe({open:s,onOpenChange:f,post:n,onSave:v,defaultPlatform:r="linkedin"}){const[m,d]=i.useState(r),[u,p]=i.useState(""),[N,l]=i.useState(""),[a,x]=i.useState("manual"),[o,g]=i.useState(!1),k=!!n;i.useEffect(()=>{var c;n?(d(n.platform),p(n.content_text),l((((c=n.metadata)==null?void 0:c.hashtags)||[]).join(", ")),x(n.source||"manual")):(d(r),p(""),l(""),x("manual"))},[n,r,s]);const D=u.length,b=m==="linkedin"?3e3:2200,M=D>b,T=async()=>{if(!(!u.trim()||M)){g(!0);try{const c=N.split(",").map(j=>j.trim()).filter(Boolean).map(j=>j.startsWith("#")?j:`#${j}`);await v({platform:m,content_text:u.trim(),source:a,metadata:c.length>0?{hashtags:c}:void 0,...k?{status:n.status}:{}}),f(!1)}finally{g(!1)}}};return e.jsx(je,{open:s,onOpenChange:f,children:e.jsxs(fe,{className:"sm:max-w-[600px]",children:[e.jsxs(ve,{children:[e.jsx(Ne,{children:k?"Edit Post":"Create Post"}),e.jsx(be,{children:k?"Edit the content and settings for this post.":"Create a new social media post draft."})]}),e.jsxs("div",{className:"space-y-4 py-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Platform"}),e.jsxs(ie,{value:m,onValueChange:c=>d(c),disabled:k,children:[e.jsx(ce,{children:e.jsx(de,{})}),e.jsxs(oe,{children:[e.jsx(E,{value:"linkedin",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-[#0077B5]"}),"LinkedIn"]})}),e.jsx(E,{value:"instagram",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4 text-pink-600"}),"Instagram"]})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(I,{children:"Content"}),e.jsxs("span",{className:`text-xs ${M?"text-destructive font-medium":"text-muted-foreground"}`,children:[D,"/",b]})]}),e.jsx(Ye,{placeholder:m==="linkedin"?`Write your LinkedIn post...

Professional tone, 1-3 paragraphs, include insights...`:`Write your Instagram caption...

Concise, visual-first, emojis welcome âœ¨`,value:u,onChange:c=>p(c.target.value),rows:8,className:"resize-none font-mono text-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Hashtags (comma-separated)"}),e.jsx(W,{placeholder:"#AI, #TypeScript, #Healthtech, #FreelanceDev",value:N,onChange:c=>l(c.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Source"}),e.jsxs(ie,{value:a,onValueChange:x,children:[e.jsx(ce,{children:e.jsx(de,{})}),e.jsxs(oe,{children:[e.jsx(E,{value:"manual",children:"Manual"}),e.jsx(E,{value:"commits",children:"Git Commits"}),e.jsx(E,{value:"conversations",children:"Conversations"}),e.jsx(E,{value:"news",children:"Tech News"}),e.jsx(E,{value:"topics",children:"Topic Research"})]})]})]})]}),e.jsxs(we,{children:[e.jsx(h,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),e.jsx(h,{onClick:T,disabled:!u.trim()||M||o,children:o?"Saving...":k?"Save Changes":"Create Draft"})]})]})})}function ss({open:s,onOpenChange:f,post:n,onSchedule:v}){const[r,m]=i.useState(""),[d,u]=i.useState("09:00"),[p,N]=i.useState(!1);i.useEffect(()=>{if(n!=null&&n.scheduled_date){const a=new Date(n.scheduled_date);m(w(a,"yyyy-MM-dd")),u(w(a,"HH:mm"))}else{const a=new Date;a.setDate(a.getDate()+1),m(w(a,"yyyy-MM-dd")),u("09:00")}},[n,s]);const l=async()=>{if(!(!n||!r)){N(!0);try{const a=new Date(`${r}T${d}:00`).toISOString();await v(n.id,a),f(!1)}finally{N(!1)}}};return n?e.jsx(je,{open:s,onOpenChange:f,children:e.jsxs(fe,{className:"sm:max-w-[400px]",children:[e.jsxs(ve,{children:[e.jsxs(Ne,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),"Schedule Post"]}),e.jsxs(be,{children:["Choose when to post this on ",n.platform==="linkedin"?"LinkedIn":"Instagram","."]})]}),e.jsxs("div",{className:"space-y-4 py-2",children:[e.jsx("div",{className:"p-3 rounded-lg bg-muted text-sm line-clamp-3",children:n.content_text}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Date"}),e.jsx(W,{type:"date",value:r,onChange:a=>m(a.target.value),min:w(new Date,"yyyy-MM-dd")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Time"}),e.jsx(W,{type:"time",value:d,onChange:a=>u(a.target.value)})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"ðŸ’¡ Tip: Best posting times â€” LinkedIn: Tue-Thu 8-10am, Instagram: Mon-Fri 11am-1pm"})]}),e.jsxs(we,{children:[e.jsx(h,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),e.jsx(h,{onClick:l,disabled:!r||p,children:p?"Scheduling...":"Schedule"})]})]})}):null}function he({posts:s,onPostClick:f}){const[n,v]=i.useState("month"),[r,m]=i.useState(new Date),d=i.useMemo(()=>{const l=new Map;for(const a of s){const x=a.scheduled_date||a.published_date||a.created_at;if(!x)continue;const o=w(O(x),"yyyy-MM-dd"),g=l.get(o)||[];g.push(a),l.set(o,g)}return l},[s]),u=i.useMemo(()=>{if(n==="week"){const l=A(r,{weekStartsOn:1});return Array.from({length:7},(a,x)=>le(l,x))}else{const l=Ge(r),a=qe(r),x=A(l,{weekStartsOn:1});return Je({start:x,end:le(x,41)}).filter(o=>re(o,r)||o<l||o>a)}},[n,r]),p=l=>{m(n==="week"?a=>l>0?Xe(a,1):Ke(a):a=>l>0?Qe(a,1):Ue(a))},N=()=>m(new Date);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("h3",{className:"font-semibold text-lg",children:n==="week"?`Week of ${w(A(r,{weekStartsOn:1}),"MMM d")}`:w(r,"MMMM yyyy")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{variant:"ghost",size:"sm",onClick:N,children:"Today"}),e.jsxs("div",{className:"flex items-center rounded-md border",children:[e.jsx(h,{variant:"ghost",size:"sm",className:S("rounded-r-none h-8",n==="week"&&"bg-muted"),onClick:()=>v("week"),children:"Week"}),e.jsx(h,{variant:"ghost",size:"sm",className:S("rounded-l-none h-8",n==="month"&&"bg-muted"),onClick:()=>v("month"),children:"Month"})]}),e.jsx(h,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>p(-1),children:e.jsx(Be,{className:"h-4 w-4"})}),e.jsx(h,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>p(1),children:e.jsx(Re,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-px",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(l=>e.jsx("div",{className:"text-center text-xs font-medium text-muted-foreground py-2",children:l},l))}),e.jsx("div",{className:"grid grid-cols-7 gap-px bg-border rounded-lg overflow-hidden",children:u.map(l=>{const a=w(l,"yyyy-MM-dd"),x=d.get(a)||[],o=re(l,r);return e.jsxs("div",{className:S("bg-background min-h-[80px] p-1.5 transition-colors",n==="week"&&"min-h-[120px]",!o&&n==="month"&&"opacity-40",V(l)&&"bg-primary/5"),children:[e.jsx("div",{className:S("text-xs font-medium mb-1",V(l)?"text-primary":"text-muted-foreground"),children:V(l)?e.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-primary text-primary-foreground text-[10px]",children:w(l,"d")}):w(l,"d")}),e.jsxs("div",{className:"space-y-0.5",children:[x.slice(0,3).map(g=>e.jsxs("button",{onClick:()=>f(g),className:S("w-full text-left rounded px-1 py-0.5 text-[10px] leading-tight truncate transition-colors",g.platform==="linkedin"?"bg-[#0077B5]/10 text-[#0077B5] hover:bg-[#0077B5]/20":"bg-pink-500/10 text-pink-600 hover:bg-pink-500/20",g.status==="published"&&"opacity-60 line-through"),children:[g.platform==="linkedin"?"ðŸ”—":"ðŸ“¸"," ",g.content_text.slice(0,30)]},g.id)),x.length>3&&e.jsxs("span",{className:"text-[10px] text-muted-foreground px-1",children:["+",x.length-3," more"]})]})]},a)})}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded bg-[#0077B5]/20"}),e.jsx("span",{children:"LinkedIn"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded bg-pink-500/20"}),e.jsx("span",{children:"Instagram"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded bg-muted opacity-60"}),e.jsx("span",{children:"Published"})]})]})]})}function js(){const[s,f]=i.useState("linkedin"),[n,v]=i.useState("posts"),[r,m]=i.useState("all"),[d,u]=i.useState([]),[p,N]=i.useState(!0),[l,a]=i.useState(!1),[x,o]=i.useState(null),[g,k]=i.useState(!1),[D,b]=i.useState(null),[M,T]=i.useState(!1),c=i.useCallback(async()=>{N(!0);try{const t=await P.getSocialMediaPosts({platform:s,status:r!=="all"?r:void 0,limit:200});u(t)}catch(t){console.error("Failed to fetch posts:",t),y.error("Failed to load posts")}finally{N(!1)}},[s,r]);i.useEffect(()=>{c()},[c]);const j=i.useMemo(()=>{const t=d;return{suggested:t.filter(C=>C.status==="suggested").length,approved:t.filter(C=>C.status==="approved").length,scheduled:t.filter(C=>C.status==="scheduled").length,published:t.filter(C=>C.status==="published").length}},[d]),J=i.useMemo(()=>d.filter(t=>t.status==="suggested"),[d]),X=i.useMemo(()=>d.filter(t=>t.status==="approved"),[d]),K=i.useMemo(()=>d.filter(t=>t.status==="scheduled"||t.status==="published"),[d]),Q=async t=>{try{await P.updateSocialMediaPost(t,{status:"approved"}),y.success("Post approved!"),c()}catch{y.error("Failed to approve post")}},U=async t=>{try{await P.updateSocialMediaPost(t,{status:"rejected"}),y("Post rejected",{icon:"ðŸ—‘ï¸"}),c()}catch{y.error("Failed to reject post")}},B=t=>{o(t),a(!0)},Y=t=>{b(t),k(!0)},Z=async t=>{try{await P.publishSocialMediaPost(t),y.success("Post marked as published! ðŸŽ‰"),c()}catch{y.error("Failed to publish post")}},ee=async t=>{try{await P.deleteSocialMediaPost(t),y("Post deleted"),c()}catch{y.error("Failed to delete post")}},ye=async t=>{x&&(await P.updateSocialMediaPost(x.id,t),y.success("Post updated!")),c()},ke=async t=>{await P.createSocialMediaPost(t),y.success("Draft created!"),c()},Ce=async(t,C)=>{await P.updateSocialMediaPost(t,{status:"scheduled",scheduled_date:C}),y.success("Post scheduled!"),c()},se=t=>{B(t)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Social Media"}),e.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Manage your LinkedIn & Instagram content pipeline"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(h,{variant:"outline",size:"sm",onClick:c,disabled:p,children:[e.jsx($e,{className:`h-4 w-4 mr-1 ${p?"animate-spin":""}`}),"Refresh"]}),e.jsxs(h,{size:"sm",onClick:()=>{o(null),T(!0)},children:[e.jsx(Ae,{className:"h-4 w-4 mr-1"}),"New Post"]})]})]}),e.jsxs(Se,{value:s,onValueChange:t=>f(t),children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[e.jsxs(Me,{className:"h-11",children:[e.jsxs(te,{value:"linkedin",className:"gap-2 px-4",children:[e.jsx(G,{className:"h-4 w-4"}),"LinkedIn",j.suggested>0&&s!=="linkedin"&&e.jsx(F,{variant:"secondary",className:"h-5 px-1.5 text-[10px]",children:j.suggested})]}),e.jsxs(te,{value:"instagram",className:"gap-2 px-4",children:[e.jsx(q,{className:"h-4 w-4"}),"Instagram"]})]}),e.jsxs("div",{className:"flex items-center rounded-md border",children:[e.jsxs(h,{variant:"ghost",size:"sm",className:`h-8 rounded-r-none ${n==="posts"?"bg-muted":""}`,onClick:()=>v("posts"),children:[e.jsx(Ve,{className:"h-4 w-4 mr-1"}),"Posts"]}),e.jsxs(h,{variant:"ghost",size:"sm",className:`h-8 rounded-l-none ${n==="calendar"?"bg-muted":""}`,onClick:()=>v("calendar"),children:[e.jsx(L,{className:"h-4 w-4 mr-1"}),"Calendar"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mt-4",children:[e.jsx(_,{className:"cursor-pointer hover:shadow-sm transition-shadow",onClick:()=>m("suggested"),children:e.jsxs(z,{className:"p-3 flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-lg bg-amber-500/10",children:e.jsx(ge,{className:"h-4 w-4 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:j.suggested}),e.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Suggested"})]})]})}),e.jsx(_,{className:"cursor-pointer hover:shadow-sm transition-shadow",onClick:()=>m("approved"),children:e.jsxs(z,{className:"p-3 flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-lg bg-green-500/10",children:e.jsx(We,{className:"h-4 w-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:j.approved}),e.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Approved"})]})]})}),e.jsx(_,{className:"cursor-pointer hover:shadow-sm transition-shadow",onClick:()=>m("scheduled"),children:e.jsxs(z,{className:"p-3 flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-lg bg-blue-500/10",children:e.jsx(pe,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:j.scheduled}),e.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Scheduled"})]})]})}),e.jsx(_,{className:"cursor-pointer hover:shadow-sm transition-shadow",onClick:()=>m("published"),children:e.jsxs(z,{className:"p-3 flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-lg bg-purple-500/10",children:e.jsx(H,{className:"h-4 w-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:j.published}),e.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Published"})]})]})})]}),e.jsx(ae,{value:"linkedin",className:"mt-4",children:n==="posts"?e.jsx(ue,{posts:r==="all"?d:d.filter(t=>t.status===r),suggestedPosts:J,approvedPosts:X,statusFilter:r,setStatusFilter:m,loading:p,onApprove:Q,onReject:U,onEdit:B,onSchedule:Y,onPublish:Z,onDelete:ee}):e.jsx(he,{posts:K,onPostClick:se})}),e.jsx(ae,{value:"instagram",className:"mt-4",children:n==="posts"?e.jsx(ue,{posts:r==="all"?d:d.filter(t=>t.status===r),suggestedPosts:J,approvedPosts:X,statusFilter:r,setStatusFilter:m,loading:p,onApprove:Q,onReject:U,onEdit:B,onSchedule:Y,onPublish:Z,onDelete:ee}):e.jsx(he,{posts:K,onPostClick:se})})]}),e.jsx(xe,{open:l,onOpenChange:a,post:x,onSave:ye,defaultPlatform:s}),e.jsx(xe,{open:M,onOpenChange:T,post:null,onSave:ke,defaultPlatform:s}),e.jsx(ss,{open:g,onOpenChange:k,post:D,onSchedule:Ce})]})}function ue({posts:s,suggestedPosts:f,approvedPosts:n,statusFilter:v,setStatusFilter:r,loading:m,onApprove:d,onReject:u,onEdit:p,onSchedule:N,onPublish:l,onDelete:a}){const x=[{value:"all",label:"All",count:s.length},{value:"suggested",label:"Suggested"},{value:"approved",label:"Approved"},{value:"scheduled",label:"Scheduled"},{value:"published",label:"Published"},{value:"rejected",label:"Rejected"}];return m?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading posts..."})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),x.map(o=>e.jsx("button",{onClick:()=>r(o.value),className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium transition-colors ${v===o.value?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:o.label},o.value))]}),s.length===0?e.jsxs("div",{className:"text-center py-16 space-y-3",children:[e.jsx(ge,{className:"h-10 w-10 text-muted-foreground/40 mx-auto"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:"No posts yet"}),e.jsx("p",{className:"text-sm text-muted-foreground/70 mt-1",children:"Create a new post or wait for James to generate suggestions"})]})]}):e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:s.map(o=>e.jsx(es,{post:o,onApprove:d,onReject:u,onEdit:p,onSchedule:N,onPublish:l,onDelete:a},o.id))})]})}export{js as SocialMediaPage};
