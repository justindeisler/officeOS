import{r as n,j as e}from"./vendor-react-wuMqdllU.js";import{s as h,t as g,O as w,v as j,w as y,x as v}from"./vendor-radix-DqeMb71O.js";import{w as k,i as c,a as x}from"./index-BJ9hpEov.js";import{Z as b,X as N,a3 as C,a2 as z,i as D,Q as T}from"./vendor-icons-ssgfUAX_.js";import"./vendor-markdown-C3iCDuOK.js";import"./vendor-floating-ui-BD6aHMKr.js";import"./vendor-recharts-tRgwS7-V.js";import"./vendor-router-Cm8Qzw9U.js";const E=[{type:"task",label:"Task",icon:e.jsx(C,{className:"h-4 w-4"}),shortcut:"T"},{type:"note",label:"Note",icon:e.jsx(z,{className:"h-4 w-4"}),shortcut:"N"},{type:"idea",label:"Idea",icon:e.jsx(D,{className:"h-4 w-4"}),shortcut:"I"},{type:"meeting",label:"Meeting",icon:e.jsx(T,{className:"h-4 w-4"}),shortcut:"M"}];function Z({open:s,onOpenChange:l}){const{addCapture:f}=k(),[o,i]=n.useState(""),[d,r]=n.useState("task"),u=n.useRef(null);n.useEffect(()=>{s&&setTimeout(()=>{var t;(t=u.current)==null||t.focus()},100)},[s]),n.useEffect(()=>{if(!s)return;const t=a=>{if(a.metaKey||a.ctrlKey)switch(a.key.toLowerCase()){case"t":a.preventDefault(),r("task");break;case"n":a.preventDefault(),r("note");break;case"i":a.preventDefault(),r("idea");break;case"m":a.preventDefault(),r("meeting");break;case"enter":a.preventDefault(),m();break}};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[s,o,d]);const m=()=>{o.trim()&&(f({content:o.trim(),type:d}),i(""),r("task"),l(!1))},p=()=>{i(""),r("task"),l(!1)};return e.jsx(h,{open:s,onOpenChange:l,children:e.jsxs(g,{children:[e.jsx(w,{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),e.jsxs(j,{className:c("fixed left-1/2 top-1/2 z-50 w-[calc(100%-2rem)] sm:w-full max-w-[560px] -translate-x-1/2 -translate-y-1/2","bg-card rounded-xl border border-border/50 shadow-2xl shadow-black/20","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","duration-200"),children:[e.jsxs("div",{className:"flex items-center gap-3 px-6 pt-5 pb-4 border-b border-border/50",children:[e.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-lg bg-amber-500/10",children:e.jsx(b,{className:"h-5 w-5 text-amber-500"})}),e.jsx(y,{className:"text-lg font-semibold text-foreground",children:"Quick Capture"}),e.jsx(v,{className:"ml-auto rounded-md p-1.5 text-muted-foreground/60 hover:text-foreground hover:bg-muted/80 transition-colors","aria-label":"Close",children:e.jsx(N,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"px-6 py-5 space-y-5",children:[e.jsx("div",{className:"grid grid-cols-2 sm:flex gap-1.5 p-1.5 rounded-lg bg-muted/50",children:E.map(t=>e.jsxs("button",{onClick:()=>r(t.type),className:c("flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-md text-sm font-medium transition-all duration-150",d===t.type?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-background/50"),children:[t.icon,e.jsx("span",{children:t.label})]},t.type))}),e.jsx("div",{className:"relative",children:e.jsx("textarea",{ref:u,value:o,onChange:t=>i(t.target.value),placeholder:L(d),rows:4,className:c("w-full px-4 py-3 rounded-lg text-sm","bg-muted/30 border border-border/50","placeholder:text-muted-foreground/50","focus:outline-none focus:ring-2 focus:ring-ring/50 focus:border-transparent","resize-none transition-all duration-150","scrollbar-none [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]")})})]}),e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-border/50 bg-muted/20 rounded-b-xl",children:[e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1.5",children:["Press",e.jsx("kbd",{className:"px-1.5 py-0.5 bg-muted rounded text-[10px] font-mono border border-border/50",children:"⌘↵"}),"to save"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{variant:"ghost",size:"sm",onClick:p,className:"text-muted-foreground hover:text-foreground",children:"Cancel"}),e.jsxs(x,{size:"sm",onClick:m,disabled:!o.trim(),className:"bg-amber-500 hover:bg-amber-600 text-white shadow-sm",children:[e.jsx(b,{className:"h-4 w-4 mr-1.5"}),"Capture"]})]})]})]})]})})}function L(s){switch(s){case"task":return"What needs to be done?";case"note":return"What's on your mind?";case"idea":return"What's your idea?";case"meeting":return"Meeting notes or action items...";default:return"Capture something..."}}export{Z as QuickCaptureDialog};
