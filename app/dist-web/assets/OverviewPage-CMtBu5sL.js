import{r as i,j as e}from"./vendor-react-nkeu7MKf.js";import{C as a,c as r,a as d,b as m}from"./card-BgiI-iYU.js";import{o as J,E as f,C as M,a as x,B as N,m as l}from"./index-DrITRpZC.js";import{L as b}from"./list-todo-CKdZgBSE.js";import{C as _}from"./circle-check-BRf1SoPH.js";import{A as o}from"./arrow-right-CM0peKgs.js";import{A as H}from"./activity-BpdTbKO1.js";import{S as q}from"./sparkles-R1R_sqcb.js";import{L as h}from"./vendor-router-bCYKpmtI.js";import{f as v}from"./vendor-date-fns-D0ugVOfH.js";import"./vendor-markdown-zaQAhtrl.js";import"./vendor-recharts-COauwCrp.js";import"./vendor-radix-Oq5tdvA1.js";import"./vendor-floating-ui-_Y3uXdsy.js";const w={pending:"bg-yellow-500/10 text-yellow-700 dark:text-yellow-400",approved:"bg-green-500/10 text-green-700 dark:text-green-400",rejected:"bg-red-500/10 text-red-700 dark:text-red-400",implemented:"bg-purple-500/10 text-purple-700 dark:text-purple-400",backlog:"bg-slate-500/10 text-slate-700 dark:text-slate-400",queue:"bg-blue-500/10 text-blue-700 dark:text-blue-400",in_progress:"bg-amber-500/10 text-amber-700 dark:text-amber-400",done:"bg-emerald-500/10 text-emerald-700 dark:text-emerald-400"};function Z(){const[y,k]=i.useState([]),[j,C]=i.useState([]),[t,A]=i.useState(null),[u,S]=i.useState([]),[T,D]=i.useState(!0);i.useEffect(()=>{(async()=>{try{const[c,L,P,B]=await Promise.all([l.getSuggestions({status:"pending",limit:5}),l.getJamesTasks({limit:10}),l.getJamesTasksStats(),l.getJamesActions({limit:5})]);k(c),C(L),A(P),S(B)}catch(c){console.error("Failed to fetch James Brain data:",c)}finally{D(!1)}})()},[]);const n=y.filter(s=>s.status==="pending"),g=j.filter(s=>s.status==="in_progress"),p=j.filter(s=>s.status==="queue");return e.jsx(e.Fragment,{children:T?e.jsx("div",{className:"flex items-center justify-center p-12",children:e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-semibold tracking-tight flex items-center gap-2",children:[e.jsx(J,{className:"h-7 w-7"}),"James Brain"]}),e.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Overview of James's activities, suggestions, and tasks"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(a,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending Suggestions"}),e.jsx("p",{className:"text-2xl font-bold",children:n.length})]}),e.jsx(f,{className:"h-8 w-8 text-yellow-500 opacity-80"})]})})}),e.jsx(a,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-bold",children:(t==null?void 0:t.in_progress)||0})]}),e.jsx(M,{className:"h-8 w-8 text-amber-500 opacity-80"})]})})}),e.jsx(a,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Queued"}),e.jsx("p",{className:"text-2xl font-bold",children:(t==null?void 0:t.queue)||0})]}),e.jsx(b,{className:"h-8 w-8 text-blue-500 opacity-80"})]})})}),e.jsx(a,{children:e.jsx(r,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold",children:(t==null?void 0:t.done)||0})]}),e.jsx(_,{className:"h-8 w-8 text-emerald-500 opacity-80"})]})})})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(a,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between",children:[e.jsxs(m,{className:"text-lg flex items-center gap-2",children:[e.jsx(f,{className:"h-5 w-5"}),"Pending Suggestions"]}),e.jsx(h,{to:"/james-brain/suggestions",children:e.jsxs(x,{variant:"ghost",size:"sm",children:["View All",e.jsx(o,{className:"h-4 w-4 ml-1"})]})})]}),e.jsx(r,{children:n.length===0?e.jsx("p",{className:"text-muted-foreground text-sm",children:"No pending suggestions."}):e.jsx("div",{className:"space-y-3",children:n.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:v(new Date(s.created_at),"MMM d, HH:mm")})]}),e.jsx(N,{variant:"outline",className:w[s.status],children:s.status})]},s.id))})})]}),e.jsxs(a,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between",children:[e.jsxs(m,{className:"text-lg flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"Active Tasks"]}),e.jsx(h,{to:"/james-brain/tasks",children:e.jsxs(x,{variant:"ghost",size:"sm",children:["View All",e.jsx(o,{className:"h-4 w-4 ml-1"})]})})]}),e.jsx(r,{children:g.length===0&&p.length===0?e.jsx("p",{className:"text-muted-foreground text-sm",children:"No active tasks."}):e.jsx("div",{className:"space-y-3",children:[...g,...p].slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:s.title}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Priority: ",s.priority]})]}),e.jsx(N,{variant:"outline",className:w[s.status],children:s.status.replace("_"," ")})]},s.id))})})]})]}),e.jsxs(a,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between",children:[e.jsxs(m,{className:"text-lg flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5"}),"Recent Activity"]}),e.jsx(h,{to:"/james-brain/activity",children:e.jsxs(x,{variant:"ghost",size:"sm",children:["View All",e.jsx(o,{className:"h-4 w-4 ml-1"})]})})]}),e.jsx(r,{children:u.length===0?e.jsx("p",{className:"text-muted-foreground text-sm",children:"No recent activity."}):e.jsx("div",{className:"space-y-2",children:u.map(s=>e.jsxs("div",{className:"flex items-start gap-3 p-2 rounded-lg hover:bg-muted/50",children:[e.jsx(q,{className:"h-4 w-4 mt-0.5 text-primary"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm",children:s.description}),e.jsx("p",{className:"text-xs text-muted-foreground",children:v(new Date(s.created_at),"MMM d, HH:mm")})]})]},s.id))})})]})]})})}export{Z as OverviewPage};
